extends ./../layout

block content
  h1 Edit Your Gear
  a(href='/users/#{user_id}/items') Back
  if errors
    include ./../_error
  form(method='post' action='/users/#{user_id}/items/#{item._id}')
    .row
      label(for='name') Name
      input#name(type='text' name='item[name]' value='#{item.name}')
    .row
      label(for='brand') Brand
      input#brand(type='text' name='item[brand]' value='#{item.brand}')
    .row
      label(for='description') Description
      textarea#description(name='item[description]')= item.description
    .row
      label(for='datePurchased') Date Purchased
      input#datePurchased(type='date' name='item[datePurchased]' value='#{item.datePurchased}')
    .row  
      label(for='condition') Condition
      input#condition(type='text' name='item[condition]' value='#{item.condition}')
    .row
      label(for='imageUrl') Image (url)
      input#imageUrl(type='url' name='item[imageUrl]' value='#{item.imageUrl}')
    #catrow.row
      input#categorylist.hidden(type='text' name='item[categories]' value='#{catlist}')
      label(for='categories') Categories
      select#categories.select2-hidden-accessable(name='item[category_select]')
        each category in categories
          option(value='#{category._id}')= category.name
      button#addcategory.sml(type='button') Add Another Category
      each userCategory in userCategories
        div.category_tag
          span= userCategory.name  
          | 
          .delete  x
    .row
      input(type='submit' value='Submit')
block javascript
  script(src='/javascripts/category_select.js' type='text/javascript')
